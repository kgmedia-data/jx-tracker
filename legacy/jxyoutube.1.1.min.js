var tag=document.createElement("script");tag.id="iframe-demo",tag.src="https://www.youtube.com/iframe_api";var firstScriptTag=document.getElementsByTagName("script")[0];function getUrlParams(){var t={},e=window.location.href.match(/(\?|\&)([^=]+)\=([^&]+)/gi);return e&&0<e.length&&e.forEach(function(e,a){var r=e.replace(/[&\\?]/,"").split("=");t[r[0]]=r[1]}),t}firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);var params=getUrlParams(),creative=null;params.creative&&(creative=JSON.parse(atob(params.creative)));var domain=params.domain||null,pageurl=params.pageurl||null,device=params.device||null,autoplay=null;autoplay="undefined"!==creative.autoplay?0==creative.autoplay?0:1:0;var player,eventURL=creative.trackers.baseurl+"?"+creative.trackers.parameters,toload=!1,playerready=!1,playerpaused=!1,loop=!1,clicked=!1,creativeInView=!1,inViewFired=!1,hiddenFired=!1,width=parseInt(creative.width)-10||640,height=parseInt(creative.height)-10||360;function onYouTubeIframeAPIReady(){player=new YT.Player("player",{height:height,width:width,videoId:creative.url,events:{onReady:onPlayerReady,onStateChange:onPlayerStateChange,onError:onPlayerError}})}function onPlayerReady(e){toload&&0<autoplay&&(e.target.setVolume(0),e.target.playVideo()),playerready=!0,parent.postMessage("jxhasad","*")}var progress=0;function onPlayerStateChange(e){if(0==e.data)loop||fireEvent("complete"),player.playVideo(),loop=!0;else if(1==e.data){if(!loop)setInterval(function(){2<player.getCurrentTime()&&0==progress&&(fireEvent("impression"),progress++);var e=player.getCurrentTime()/player.getDuration();.25<e&&1==progress&&(fireEvent("firstQuartile"),progress++),.5<e&&2==progress&&(fireEvent("midpoint"),progress++),.25<e&&3==progress&&(fireEvent("thirdQuartile"),progress++)},1e3)}else e.data}function onPlayerError(e){fireEvent("error")}function fireEvent(e){var a,r=eventURL+"&action="+e;(a=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).open("GET",r,!0),a.withCredentials=!0,a.crossDomain=!0,a.send()}window.onmessage=function(e){"jxvisible"==e.data?(toload=!0,playerready&&0<autoplay&&(player.setVolume(0),player.playVideo(),playerpaused=!1),creativeInView||(inViewFired||(fireEvent("creativeView"),inViewFired=!0),creativeInView=!0)):"jxnotvisible"==e.data?(playerready&&(player.pauseVideo(),playerpaused=!0),creativeInView&&(hiddenFired||(fireEvent("creativeHide"),hiddenFired=!0),creativeInView=!1)):"jxclick"==e.data&&(clicked=!0,playerready&&(player.pauseVideo(),playerpaused=!0))};