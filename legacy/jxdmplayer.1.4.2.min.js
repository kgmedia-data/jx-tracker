window.dmAsyncInit=function(){DM.init({apiKey:"9892153f80b047306828",status:!0,cookie:!0}),void 0==window.dmScriptLoaded&&(window.dmScriptLoaded=!0)};class JX_DMPlayer{constructor(e){var a=this;a.dm=null,a.container=null,a.trackers=null,a.player=null,a.pparams=null,a.videolist=[],a.tdiv=null,a.auto=!1,a.wifi=!1,a.minWordLength=4,a.minWordSearch=2,a.maxWordSearch=10,a.sortTypes=["recent","trending"],a.sort="recent",a.searchParams=null,a.topBannerTag=null,a.bottomBannerTag=null,a.frameTag=null,a.hotspotTag=null,a.topBanner=null,a.bottomBanner=null,a.pframe=null,a.hotspots=null,a.v=!1,a.view=!1,a.isMobile=!1,a.p=!1,a.l=!1,a.r=!1,a.pu=null,a.pagetitle=null,a.jid=null,a.imp=null,a.fPct=!1,a.mPct=!1,a.tPct=!1,a.start=!1,a.adSlot=!1,a.callbackReady=null,a.init(e)}init(e){if(void 0!==e&&"object"==typeof e&&null!==e){var a=this;a.addListener(window,"message",a.jxMsgIn.bind(a));var t=document.createElement("script");t.async=!0,t.src="https://api.dmcdn.net/all.js";var r=document.getElementsByTagName("script")[0];if(r.parentNode.insertBefore(t,r),e.trackers&&a.setTrackers(e.trackers),e.container&&a.setContainer(e.container),e.player&&(a.tdiv=e.player),e.pageurl&&(a.pu=e.pageurl),e.jid&&(a.jid=e.jid),e.adparameters.topbanner&&(a.topBannerTag=e.adparameters.topbanner),e.adparameters.bottombanner&&(a.bottomBannerTag=e.adparameters.bottombanner),e.adparameters.frametag&&(a.frameTag=e.adparameters.frametag),e.adparameters.hotspotstag&&(a.hotspotTag=e.adparameters.hotspotstag),"mobile"==e.adparameters.network?a.wifi=!1:a.wifi=!0,e.callbackready&&(a.callbackReady=e.callbackready),e.adparameters?a.adparameters=e.adparameters:a.adparameters={},e.visible&&(a.v=e.visible),e.pagetitle&&(a.pagetitle=e.pagetitle.toLowerCase()),a.pagetitle&&void 0!==e.adparameters.excludewords&&e.adparameters.excludewords&&e.adparameters.excludewords.length>0){for(var i=e.adparameters.excludewords,n=0;n<i.length;n++)a.pagetitle=a.pagetitle.replace(i[n].toLowerCase(),"");a.pagetitle=a.pagetitle.replace(/ +(?= )/g,"").trim()}if(e.pagekeywords&&(a.pagekeywords=e.pagekeywords.toLowerCase()),a.pagekeywords&&void 0!==e.adparameters.excludewords&&e.adparameters.excludewords&&e.adparameters.excludewords.length>0){for(i=e.adparameters.excludewords,n=0;n<i.length;n++)a.pagekeywords=a.pagekeywords.replace(i[n].toLowerCase(),"");a.pagekeywords=a.pagekeywords.replace(/ +(?= )/g,"").trim()}e.adparameters.sort&&a.sortTypes.indexOf(e.adparameters.sort)>-1&&(a.sort=e.adparameters.sort),a.jxDmDefer(a)}else console.log("JX - Parameter is not an object")}jxDmDefer(e){window.dmScriptLoaded?e.jxstartDM():setTimeout(function(){e.jxDmDefer(e)},100)}jxstartDM(){var e=this;e.tdiv&&e.adparameters?(e.topBannerTag&&e.createAdSlot("top",e.topBannerTag),e.dm=e.newDiv(e.tdiv,"div","","container_"+e.jid),e.bottomBannerTag&&e.createAdSlot("bottom",e.bottomBannerTag),e.pparams={controls:e.adparameters.controls||!0,ads_params:"contextual","ui-logo":!1,origin:e.domain||null,"queue-autoplay-next":!1,"queue-enable":!1},e.adparameters.syndication&&(e.pparams.syndication=e.adparameters.syndication),e.wifi&&"wifi"==e.adparameters.autoPlay?(e.auto=!0,e.pparams["autoplay-mute"]=!0):(e.auto=!1,e.pparams.autoplay=!1),e.container&&(e.container.addEventListener("jxvisible",function(a){e.onVisible(e)}),e.container.addEventListener("jxnotvisible",function(a){e.onNotVisible(e)})),e.adparameters.search&&"title"==e.adparameters.search&&e.pagetitle?(e.apisearch(e,e.pagetitle),e.container.addEventListener("onSearchEnd",a=>{e.createPlayer(e)})):e.adparameters.search&&"keywords"==e.adparameters.search&&e.pagekeywords?(e.apisearch(e,e.pagekeywords),e.container.addEventListener("onSearchEnd",a=>{e.createPlayer(e)})):e.adparameters.defaultPlaylist?(e.apiplaylist(e),e.container.addEventListener("onSearchEnd",a=>{e.createPlayer(e)})):e.adparameters.channel?(e.apichannel(e),e.container.addEventListener("onSearchEnd",a=>{e.createPlayer(e)})):e.adparameters.defaultVideo?(e.videolist.push({id:e.adparameters.defaultVideo}),e.createPlayer(e)):console.log("Warning: nothing to play in Dailymotion player")):console.log("JX WARNING - missing parameter: "+JSON.stringify(p))}jxMsgIn(e){try{var a=this;"jxvisible"==e.data?a.onVisible(a):"jxnotvisible"==e.data&&a.onNotVisible(a)}catch(e){console.log("Error when receiving message: "+e.message)}}onVisible(e){e.v=!0,e.view||(e.fire("creativeView"),e.view=!0),e.l?!e.p&&"none"!=e.adparameters.autoPlay&&e.r&&e.wifi&&"wifi"==e.adparameters.autoPlay&&(e.player.play(),e.p=!0):e.LoadNextVideo(e)}onNotVisible(e){e.v=!1,e.p&&(e.player.pause(),e.p=!1)}onFloat(e){}onDocked(e){}onFloatClose(e){}createAdSlot(e,a){var t=this;if(a.url){var r=null,i=document.createElement("a");i.href=a.url,-1!==i.pathname.indexOf(".png")||-1!==i.pathname.indexOf(".gif")||-1!==i.pathname.indexOf(".jpg")||-1!==i.pathname.indexOf(".jpeg")?((r=document.createElement("div")).innerHTML='<img src="'+a.url+'" width="100%" class="jxImg"/>',"top"==e?(t.topBanner=r,t.tdiv.parentNode.insertBefore(r,t.tdiv),a.clickurl&&t.addListener(r,"click",t.onTopBannerClick)):"bottom"==e&&(t.bottomBanner=r,t.tdiv.parentNode.appendChild(r),a.clickurl&&t.addListener(r,"click",t.onBottomBannerClick)),t.addListener(r,"load",t.onWindowResize)):((r=document.createElement("iframe")).src=a.url,r.className="adslot",r.style.border="none",r.setAttribute("frameborder","0"),r.setAttribute("scrolling","no"),"top"==e?(t.topBanner=r,t.tdiv.parentNode.insertBefore(r,t.tdiv),t.checkTopAdIframeLoaded()):"bottom"==e&&(t.bottomBanner=r,t.tdiv.parentNode.appendChild(t.bottomBanner),t.checkBottomAdIframeLoaded())),r.style.left="0",r.style.top="0",r.style.marginBottom="0px",r.style.marginTop="5px"}}checkTopAdIframeLoaded(){var e=this;e.checkIframeLoaded(e.topBanner,e.onWindowResize,e.checkTopAdIframeLoaded)}checkBottomAdIframeLoaded(){var e=this;e.checkIframeLoaded(e.bottomBanner,e.onWindowResize,e.checkBottomAdIframeLoaded)}onTopBannerClick(){this.topBannerTag.clickurl&&(this.fire("click","topbanner"),window.open(clickurl,"_blank"))}onBottomBannerClick(){this.bottomBannerTag.clickurl&&(this.fire("click","bottombanner"),window.open(clickurl,"_blank"))}sanitizeTitle(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[.,\/#!$%\^&\*;:{}=\-_`~()"]/g,"").split(" ").filter(e=>e.length>=this.minWordLength)}apiready(e){e.player.addEventListener("end",e.EventVideoEnd.bind(e)),e.player.addEventListener("error",e.EventVideoError.bind(e)),e.player.addEventListener("pause",e.EventVideoPause.bind(e)),e.player.addEventListener("start",e.EventVideoStart.bind(e)),e.player.addEventListener("playing",e.EventVideoPlay.bind(e)),e.player.addEventListener("timeupdate",e.EventVideoDuration.bind(e)),e.player.addEventListener("playback_ready",e.EventPlayBackReady.bind(e)),e.player.addEventListener("ad_start",e.EventAdStart.bind(e)),e.player.addEventListener("ad_end",e.EventAdEnd.bind(e)),e.initialisePlayer(e)}apichannel(e){var a={fields:"id,title",limit:20,sort:e.sort},t=new Event("onSearchEnd");DM.api("/user/"+e.adparameters.channel+"/videos",a,function(a){"list"in a&&a.list.length>0?(e.videolist=a.list,e.container.dispatchEvent(t)):e.adparameters.defaultVideo?(e.videolist.push({id:e.adparameters.defaultVideo}),e.container.dispatchEvent(t)):console.log("Warning: nothing to play in Dailymotion player")})}apisearch(e,a){e.searchParams||(e.searchParams={fields:"id,title",sort:"relevance",limit:10,search:e.sanitizeTitle(a).sort((e,a)=>a.length-e.length).slice(0,e.maxWordSearch).join(" ")},e.adparameters.searchInPlaylist||(e.searchParams.private=0),e.adparameters.searchInPlaylist||(e.searchParams.longer_than=.35),!e.adparameters.searchInPlaylist&&e.adparameters.owners&&(e.searchParams.owners=e.adparameters.owners),!e.adparameters.searchInPlaylist&&e.adparameters.category&&(e.searchParams.channel=e.adparameters.category),!e.adparameters.searchInPlaylist&&e.adparameters.excludeIds&&(e.searchParams.exclude_ids=e.adparameters.excludeIds),e.adparameters.language&&(e.searchParams.language=e.adparameters.language));var t=new Event("onSearchEnd");DM.api("/"+(e.adparameters.searchInPlaylist?"playlist/"+e.adparameters.searchInPlaylist+"/videos":"videos"),e.searchParams,function(r){"list"in r&&r.list.length>0?(e.videolist=r.list,e.container.dispatchEvent(t)):(e.searchParams.search=e.searchParams.search.substring(0,e.searchParams.search.lastIndexOf(" ")),e.searchParams.search.split(" ").length>=e.minWordSearch?e.apisearch(e,a):e.adparameters.defaultPlaylist?e.apiplaylist(e):e.adparameters.channel?e.apichannel(e):e.adparameters.defaultVideo?(e.videolist.push({id:e.adparameters.defaultVideo}),e.container.dispatchEvent(t)):console.log("Warning: nothing to play in Dailymotion player"))})}apiplaylist(e){var a=new Event("onSearchEnd");DM.api("/playlist/"+e.adparameters.defaultPlaylist+"/videos",{fields:"id,title",limit:20},function(t){"list"in t&&t.list.length>0?(e.videolist=t.list,e.container.dispatchEvent(a)):e.adparameters.defaultVideo?(e.videolist.push({id:e.adparameters.defaultVideo}),e.container.dispatchEvent(a)):console.log("Warning: nothing to play in Dailymotion player")})}createPlayer(e){try{if(e.videolist&&e.videolist.length>0){var a=e.videolist.shift();e.callbackReady(a);var t={width:"100%",height:"100%",video:a.id,params:e.pparams};e.player=DM.player(e.dm,t),e.player.addEventListener("apiready",e.apiready(e)),e.l=!0}else console.log("Warning: no video to play")}catch(e){console.log("Error when creating the player: "+e.message)}}initialisePlayer(e){e.player?(parent.postMessage("jxhasad","*"),e.container.dispatchEvent(new Event("jxhasad")),e.adparameters.unMuteOnHover&&e.player.addEventListener("mouseover",()=>{e.p&&e.player.setMuted(!1)}),"strict"===e.adparameters.unMuteOnHover&&e.player.addEventListener("mouseout",()=>{e.p&&e.player.setMuted(!0)})):console.log("Warning, the Dailymotion player is not available")}LoadNextVideo(e){try{if(e.videolist&&e.videolist.length>0){var a=e.videolist.shift();e.callbackReady(a),e.auto?e.player.load({video:a.id,"queue-enable":!0,"queue-autoplay-next":!0}):e.player.load({video:a.id,autoplay:!0,"queue-enable":!0,"queue-autoplay-next":!0}),0==e.videolist.length&&e.adparameters.defaultPlaylist&&e.apiplaylist(),e.l=!0}}catch(e){console.log("Error when loading the next video: "+e.message)}}EventAdStart(e){this.fire("padstart")}EventAdEnd(e){this.fire("padend")}EventVideoEnd(e){var a=this;a.p&&(a.fire("complete"),a.fPct=!1,a.mPct=!1,a.tPct=!1,a.imp=!1,a.start=!1,a.l=!1,a.r=!1,a.adSlot=!1,a.LoadNextVideo(a))}EventVideoError(e){e.code?this.fire("error",e.code):this.fire("error")}EventPlayBackReady(e){var a=this;a.r=!0,setTimeout(()=>{!a.p&&"wifi"==a.adparameters.autoPlay&&a.wifi&&a.v&&a.player.play()},3e3)}EventVideoPause(e){var a=this;a.v&&a.fire("pause"),a.p=!1}EventVideoStart(e){}EventVideoPlay(e){var a=this;try{a.p=!0,a.v?a.start&&a.fire("resume"):a.player.pause()}catch(e){console.log("Error when receiving event play: "+e.message)}}EventVideoDuration(e){var a=this,t=e.target;if(parseFloat(t.currentTime)>0){!a.start&&a.v&&(a.fire("start"),a.start=!0,a.auto?a.fire("click","autoplay"):a.fire("click","play")),!a.adSlot&&a.v&&(a.fire("padslot"),a.adSlot=!0),parseFloat(t.currentTime)>2&&a.v&&!a.imp&&(a.fire("impression"),a.imp=!0);var r=(parseFloat(t.currentTime)||0)/parseFloat(t.duration);r>=.25&&!a.fPct&&(a.fire("firstQuartile"),a.fPct=!0),r>=.5&&!a.mPct&&(a.fire("midpoint"),a.mPct=!0),r>=.75&&!a.tPct&&(a.fire("thirdQuartile"),a.tPct=!0)}}newDiv(e,a,t,r,i){var n=document.createElement(a);return t&&""!=t&&(n.innerHTML=t),n.className=r,i&&(n.id=i),e.appendChild(n),n}addListener(e,a,t){e.addEventListener?e.addEventListener(a,t,!1):e.attachEvent?e.attachEvent("on"+a,t):e["on"+a]=t}checkIframeLoaded(e,a,t,r){if(r){if("complete"==(e.contentDocument||e.contentWindow.document).readyState)return void a();window.setTimeout(t,300)}else e.onload=function(){a()}}setContainer(e){this.container=e}onWindowResize(e){this.container?parent.postMessage("jxmsg::"+JSON.stringify({type:"size",params:{height:this.container.offsetHeight}}),"*"):parent.postMessage("jxmsg::"+JSON.stringify({type:"size",params:{height:document.body.offsetHeight}}),"*")}setTrackers(e){this.trackers=e}onClick(){this.fire("click",null)}fire(e,a){if(this.trackers&&this.trackers.baseurl&&this.trackers.parameters){parent.postMessage("jxmsg::"+JSON.stringify({type:"event",params:{action:e}}),"*");var t,r="";if(this.trackers.baseurl)r=this.trackers.baseurl+"?"+this.trackers.parameters+"&action="+e,"click"==e&&a&&(r+="&clickid="+a),"error"==e&&a&&(r+="&errorcode="+a),(t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).open("GET",r,!0),t.withCredentials=!0,t.crossDomain=!0,t.send()}}}